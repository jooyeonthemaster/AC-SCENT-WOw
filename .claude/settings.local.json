{
  "permissions": {
    "allow": [
      "Bash(npm install:*)",
      "Bash(npx tailwindcss init:*)",
      "Bash(gh repo view:*)",
      "WebFetch(domain:github.com)",
      "Bash(npm run dev:*)",
      "Bash(netstat:*)",
      "Bash(findstr:*)",
      "Bash(git add:*)",
      "Bash(npm run build:*)",
      "Bash(git commit:*)",
      "Bash(git push:*)",
      "Bash(vercel:*)",
      "Bash(taskkill:*)",
      "Bash(npx -y @smithery/cli@latest install @smithery-ai/server-sequential-thinking --client claude-code)",
      "Bash(claude mcp add-json:*)",
      "Bash(claude mcp list:*)",
      "Bash(claude mcp remove:*)",
      "mcp__sequential-thinking__sequentialthinking",
      "Bash(dir:*)",
      "WebFetch(domain:api.github.com)",
      "WebFetch(domain:raw.githubusercontent.com)",
      "Bash(git clone:*)",
      "Bash(npx next build)",
      "WebFetch(domain:docs.godotengine.org)",
      "Bash(\"C:\\\\Users\\\\jayit\\\\AppData\\\\Local\\\\Programs\\\\Python\\\\Python313\\\\python.exe\" -c \"\nfrom PIL import Image\nimport numpy as np\nimport os\n\nPROC_DIR = r''c:\\\\Users\\\\jayit\\\\OneDrive\\\\바탕 화면\\\\roqkf\\\\acsent woow\\\\scripts\\\\processing''\n\n# Save key frames for visual comparison\n# Focus on flap area \\(top quarter\\) and check text appearance\nframes_to_check = [55, 58, 59, 60, 65, 68, 70, 72, 73, 75, 78, 80, 83, 85, 88, 90]\nfor i in frames_to_check:\n    path = os.path.join\\(PROC_DIR, f''frame_{i:04d}.png''\\)\n    if os.path.exists\\(path\\):\n        img = Image.open\\(path\\)\n        # Save top quarter \\(flap area\\)\n        h = img.height\n        top = img.crop\\(\\(0, 0, img.width, h//3\\)\\)\n        top.save\\(os.path.join\\(PROC_DIR, f''compare_top_{i:04d}.png''\\)\\)\n        # Check middle area for text\n        mid = img.crop\\(\\(0, h//3, img.width, 2*h//3\\)\\)\n        mid.save\\(os.path.join\\(PROC_DIR, f''compare_mid_{i:04d}.png''\\)\\)\n        print\\(f''Frame {i}: saved top+mid crops''\\)\n    else:\n        print\\(f''Frame {i}: not found''\\)\n\")",
      "Bash(\"C:\\\\Users\\\\jayit\\\\AppData\\\\Local\\\\Programs\\\\Python\\\\Python313\\\\python.exe\" -c \"\nfrom PIL import Image\nimport numpy as np\nimport os, shutil\n\nPROC_DIR = r''c:\\\\Users\\\\jayit\\\\OneDrive\\\\바탕 화면\\\\roqkf\\\\acsent woow\\\\scripts\\\\processing''\nOUT_DIR = os.path.join\\(PROC_DIR, ''final_frames''\\)\nif os.path.exists\\(OUT_DIR\\):\n    shutil.rmtree\\(OUT_DIR\\)\nos.makedirs\\(OUT_DIR\\)\n\n# Load key frames\nframe58 = np.array\\(Image.open\\(os.path.join\\(PROC_DIR, ''frame_0058.png''\\)\\), dtype=np.float32\\)\nframe59 = np.array\\(Image.open\\(os.path.join\\(PROC_DIR, ''frame_0059.png''\\)\\), dtype=np.float32\\)\n\nh, w = frame58.shape[:2]\nframe_num = 1\n\n# === Part 1: Static closed envelope \\(0.3s = 18 frames at 60fps\\) ===\nclosed_img = Image.open\\(os.path.join\\(PROC_DIR, ''frame_0058.png''\\)\\)\nfor _ in range\\(18\\):\n    closed_img.save\\(os.path.join\\(OUT_DIR, f''frame_{frame_num:04d}.png''\\)\\)\n    frame_num += 1\nprint\\(f''Part 1 \\(static closed\\): 18 frames = 0.3s''\\)\n\n# === Part 2: Flap opening with top-to-bottom reveal \\(0.8s = 48 frames\\) ===\n# The flap opens from top, so we reveal frame59 from top to bottom\n# Use a soft gradient mask that sweeps downward\n# The change area is roughly top 55% of image \\(where flap + initial letter appear\\)\n\n# Find where the changes are between frame58 and frame59\ndiff = np.mean\\(np.abs\\(frame59 - frame58\\), axis=2\\)  # Per-pixel diff\n# Find the bounding box of changes\nchange_rows = np.where\\(np.max\\(diff, axis=1\\) > 5\\)[0]\nchange_top = change_rows[0] if len\\(change_rows\\) > 0 else 0\nchange_bottom = change_rows[-1] if len\\(change_rows\\) > 0 else h\nprint\\(f''Change area: rows {change_top} to {change_bottom} \\(of {h}\\)''\\)\n\nnum_flap_frames = 48\nfor t in range\\(num_flap_frames\\):\n    progress = \\(t + 1\\) / num_flap_frames  # 0 to 1\n    \n    # Ease-in-out curve for smoother motion\n    # Using cubic ease: slow start, fast middle, slow end\n    if progress < 0.5:\n        eased = 4 * progress * progress * progress\n    else:\n        eased = 1 - \\(-2 * progress + 2\\) ** 3 / 2\n    \n    # Create a vertical gradient mask\n    # The reveal sweeps from change_top to change_bottom\n    # At progress=0: all frame58. At progress=1: all frame59\n    mask = np.zeros\\(\\(h, w, 1\\), dtype=np.float32\\)\n    \n    # Sweep position \\(where the reveal front is\\)\n    sweep_center = change_top + eased * \\(change_bottom - change_top\\)\n    # Soft edge width \\(in pixels\\) - gets wider as it sweeps\n    edge_width = 30 + 20 * eased\n    \n    for row in range\\(h\\):\n        if row < sweep_center - edge_width:\n            mask[row, :, :] = 1.0  # Fully revealed \\(frame59\\)\n        elif row > sweep_center + edge_width:\n            mask[row, :, :] = 0.0  # Not revealed \\(frame58\\)\n        else:\n            # Smooth transition at the edge\n            t_local = \\(row - \\(sweep_center - edge_width\\)\\) / \\(2 * edge_width\\)\n            # Smoothstep for soft edge\n            t_local = max\\(0, min\\(1, t_local\\)\\)\n            smooth = t_local * t_local * \\(3 - 2 * t_local\\)\n            mask[row, :, :] = 1.0 - smooth\n    \n    blended = frame58 * \\(1 - mask\\) + frame59 * mask\n    out_img = Image.fromarray\\(blended.astype\\(np.uint8\\)\\)\n    out_img.save\\(os.path.join\\(OUT_DIR, f''frame_{frame_num:04d}.png''\\)\\)\n    frame_num += 1\n\nprint\\(f''Part 2 \\(flap opening reveal\\): {num_flap_frames} frames = {num_flap_frames/60:.1f}s''\\)\n\n# === Part 3: Letter rising \\(frames 59-72, stretched to 0.8s = 48 frames\\) ===\nmotion_frames = []\nfor i in range\\(59, 73\\):  # 14 source frames\n    img = Image.open\\(os.path.join\\(PROC_DIR, f''frame_{i:04d}.png''\\)\\)\n    motion_frames.append\\(np.array\\(img, dtype=np.float32\\)\\)\n\nnum_source = len\\(motion_frames\\)\nnum_letter_frames = 48\n\nfor t in range\\(num_letter_frames\\):\n    src_pos = t * \\(num_source - 1\\) / \\(num_letter_frames - 1\\)\n    src_idx = int\\(src_pos\\)\n    frac = src_pos - src_idx\n    \n    if frac < 0.01 or src_idx >= num_source - 1:\n        out_arr = motion_frames[min\\(src_idx, num_source - 1\\)]\n    else:\n        out_arr = motion_frames[src_idx] * \\(1 - frac\\) + motion_frames[src_idx + 1] * frac\n    \n    out_img = Image.fromarray\\(out_arr.astype\\(np.uint8\\)\\)\n    out_img.save\\(os.path.join\\(OUT_DIR, f''frame_{frame_num:04d}.png''\\)\\)\n    frame_num += 1\n\nprint\\(f''Part 3 \\(letter rising\\): {num_letter_frames} frames from {num_source} source = {num_letter_frames/60:.1f}s''\\)\n\n# === Part 4: Hold on open state \\(0.3s = 18 frames\\) ===\nhold_frame = Image.open\\(os.path.join\\(PROC_DIR, ''frame_0072.png''\\)\\)\nfor _ in range\\(18\\):\n    hold_frame.save\\(os.path.join\\(OUT_DIR, f''frame_{frame_num:04d}.png''\\)\\)\n    frame_num += 1\nprint\\(f''Part 4 \\(hold open\\): 18 frames = 0.3s''\\)\n\ntotal = frame_num - 1\nprint\\(f''\\\\nTotal: {total} frames at 60fps = {total/60:.2f}s''\\)\nprint\\(f''Structure: 0.3s static + 0.8s flap + 0.8s letter + 0.3s hold = 2.2s''\\)\n\")",
      "Bash(ffprobe:*)",
      "Bash(ipconfig:*)",
      "Bash(powershell -Command:*)",
      "Bash(node scripts/optimize-media.mjs:*)",
      "Bash(find:*)",
      "Bash(git -C 'C:/Users/jayit/OneDrive/바탕 화면/roqkf/acsent woow' diff --name-only HEAD)",
      "Bash(git -C 'C:/Users/jayit/OneDrive/바탕 화면/roqkf/acsent woow' status --porcelain)",
      "Bash(git -C 'C:/Users/jayit/OneDrive/바탕 화면/roqkf/acsent woow' log --oneline)",
      "Bash(echo:*)",
      "Bash(cmd //c \"echo hello\")",
      "Bash(cmd //c \"cd\")",
      "Bash(cmd //c \"rmdir /S /Q src\\\\components\\\\letter\\\\components\")",
      "Bash(cmd //c \"del src\\\\components\\\\letter\\\\constants.ts\")",
      "Bash(cmd //c \"npm run build 2>&1\")",
      "Bash(git show:*)",
      "Bash(gh api:*)",
      "Bash(python3:*)",
      "Bash(printenv:*)",
      "Bash(python -c:*)",
      "Bash(where:*)",
      "Bash(py:*)",
      "Bash(curl:*)",
      "Bash(node analyze_frame.js:*)"
    ]
  }
}
